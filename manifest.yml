---
applications:
- name: api
  host: fbopen-dev-api
  path: ./api
  command: node app.js
  env:
    ES_SERVICE_NAME: es-idx
  services:
    - es-idx
- name: web
  host: fbopen-dev-web
  path: ./flask-www
  command: python fbopenapp.py
  buildpack: python_buildpack
  services:
    - creds
  env:
    FBOPEN_API_HOST: http://fbopen-dev-api.18f.gov/
    FBOPEN_API_PATH: /v0/opps
- name: cron
  no-route: true
  disk_quota: 256M
  memory: 128M
  path: ./cf-cron
  env:
    CF_CREDS: es-idx
    PREP_JOB: "/bin/bash, prep.sh, creds.uri"
    CRON_JOB: "/bin/bash, job.sh, creds.uri"
    CRON_SCHEDULE: "* * * * * *"
  services:
    - es-idx
- name: grants
  no-route: true
  disk_quota: 1GB
  memory: 1GB
  path: ./loaders
  command: node ./grants.gov/cron.js
  buildpack: nodejs_buildpack
  env:
    # this is the canonical CF service name, not what you name it when it is initialized
    ES_SERVICE_NAME: es-idx
    FBOPEN_INDEX: fbopen
    NEW_RELIC_APP_NAME: Loaders-grants.gov (dev)
    # NEW_RELIC_LICENSE_KEY: use cf set-env
    # use trace while debugging and getting client running, later info
    NEW_RELIC_LOG_LEVEL: trace
  services:
    - es-idx
- name: fbo
  no-route: true
  disk_quota: 1GB
  memory: 1GB
  path: ./loaders
  command: node ./fbo.gov/cron.js
  buildpack: nodejs_buildpack
  env:
    # this is the canonical CF service name, not what you name it when it is initialized
    ES_SERVICE_NAME: es-idx
    FBOPEN_INDEX: fbopen
    NEW_RELIC_APP_NAME: Loaders-fbo.gov (dev)
    # NEW_RELIC_LICENSE_KEY: use cf set-env
    # use trace while debugging and getting client running, later info
    NEW_RELIC_LOG_LEVEL: trace
    PATH: $HOME/vendor/node/bin/:$PATH
  services:
    - es-idx
- name: bids
  no-route: true
  disk_quota: 512MB
  memory: 512MB
  path: ./loaders
  command: node ./bids.state.gov/cron.js
  buildpack: nodejs_buildpack
  env:
    # this is the canonical CF service name, not what you name it when it is initialized
    ES_SERVICE_NAME: es-idx
    FBOPEN_INDEX: fbopen
    NEW_RELIC_APP_NAME: loaders-bids.state.gov (dev)
    # NEW_RELIC_LICENSE_KEY: use cf set-env
    # use trace while debugging and getting client running, later info
    NEW_RELIC_LOG_LEVEL: trace
    PATH: $HOME/vendor/node/bin/:$PATH
  services:
    - es-idx
